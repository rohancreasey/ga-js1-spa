<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JS1 - SPA</title>
  <link rel="stylesheet" href="https://npmcdn.com/normalize.css">
  <link rel="stylesheet" href="css/h5bp.css">
  <link rel="stylesheet" href="css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<!-- Firebase Code -->

<script src="https://www.gstatic.com/firebasejs/3.2.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBj2uZQdGOraZh-QRmHM07boCxq0uVlXzo",
    authDomain: "rohancreasey-project1.firebaseapp.com",
    databaseURL: "https://rohancreasey-project1.firebaseio.com",
    storageBucket: "",
  };
  firebase.initializeApp(config);
</script>

  <header>
    <!-- JS will render the nav bar area -->
  </header>

  <div id="container">
    <!-- Your HTML here -->


    <!--<ul style="list-style: none outside none;">
      <li>
        <form action="">
          <li style="float: left;display: block;width: 200px;height: 40px;">Player Name</li>
          <li style="float: left;display: block;width: 50px;height: 60px;"><input type="radio" name="attendance" value="present">&nbsp;P</li>
          <li style="float: left;display: block;width: 50px;height: 60px;"><input type="radio" name="attendance" value="absentExplained">&nbsp;EA</li>
          <li style="float: left;display: block;width: 50px;height: 60px;"><input type="radio" name="attendance" value="absentUnexplained">&nbsp;UA</li>
        </form>
      </li>
    </ul>-->

      <div class="todo-list">
    List here: 

    <!--<ul class="playerList">
      <li>
        <form action="">
          <li class="playerListPlayerName">Player Name</li>
          <li><input type="radio" name="attendance" value="present">&nbsp;P</li>
          <li><input type="radio" name="attendance" value="absentExplained">&nbsp;EA</li>
          <li><input type="radio" name="attendance" value="absentUnexplained">&nbsp;UA</li>
        </form>
      </li>
    </ul>-->

  </div>



<br/>


<script>

// take snapshot of firebase data
// render it to list

var state = {
  players : []
};

firebase.database().ref('players/').on('value', function(snapshot) {
    state.players = snapshot.val();
    console.log(state);
    renderList(state, document.querySelector('#container'))
});

function renderList(data, into) {
    var display = '';
    Object.keys(data.players).forEach((element) => {
//        display += `<li data-id="${el}">${data.players[el].name}</li>`
/*        display += `
            <ul class="playerList">
              <li>
                <form action="">
                  <li class="playerListPlayerName">${data.players[el].name}</li>
                  <li><input type="radio" name="attendance" value="present">&nbsp;P</li>
                  <li><input type="radio" name="attendance" value="absentExplained">&nbsp;EA</li>
                  <li><input type="radio" name="attendance" value="absentUnexplained">&nbsp;UA</li>
                </form>
              </li>
            </ul>
            `
 */
          display += `<ul>

                        <li><span>${data.players[element].name}&nbsp;&nbsp;</span><input type="radio" name="attendance" value="present">&nbsp;P&nbsp;<input type="radio" name="attendance" value="absentExplained">&nbsp;EA&nbsp;<input type="radio" name="attendance" value="absentUnexplained">&nbsp;UA&nbsp;</li>
                      </ul>`
   });
    console.log('done'); 
    into.innerHTML = display;  
}

</script>


    <!--<form action="">
      
      <input type="radio" name="attendance" value="present"> P 
      <input type="radio" name="attendance" value="absentExplained"> EA 
      <input type="radio" name="attendance" value="absentUnexplained"> UA
      Player 1 
    </form>-->



  </div>




</body>
</html>
